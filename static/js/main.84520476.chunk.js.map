{"version":3,"sources":["components/SpotfiyAuth.js","actions/index.js","actions/types.js","components/CarouselStrap.js","components/SdkPlayer.js","components/pages/Home.js","history.js","components/RedirectedPage.js","components/App.js","reducers/receiveToken.js","reducers/index.js","reducers/albumReducer.js","index.js"],"names":["SpotifyAuth","onLogin","_this","props","loginUser","this","signedIn","react_default","a","createElement","type","className","onClick","renderButton","React","Component","connect","state","auth","loginUrl","URL","searchParams","append","window","location","href","includes","CarouselStrap","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","activeIndex","next","bind","assertThisInitialized","previous","goToIndex","onExiting","onExited","isSignedIn","getAlbums","token","animating","nextIndex","items","length","setState","newIndex","_this2","slides","map","item","CarouselItem","key","src","style","height","alt","altText","overflowY","tracks","track","idx","name","Carousel","CarouselIndicators","onClickHandler","CarouselControl","direction","directionText","ownProps","console","log","albums","album","images","url","caption","artists","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","spotify","response","wrap","_context","prev","axios","create","baseURL","headers","Authorization","concat","get","sent","payload","data","stop","_x","apply","arguments","SdkPlayer","onPlay","playTrack","uri","onPause","pauseTrack","onActivate","activateDevice","onSpotifyWebPlaybackSDKReady","player","Spotify","Player","getOAuthToken","cb","addListener","message","error","_ref2","_ref3","_ref4","_ref5","device_id","_ref6","then","success","currentTrackUri","_callee2","_context2","authorization","put","_x2","_callee4","_context4","method","device_ids","play","_x4","_callee3","_context3","_x3","Home","Link","to","SpotfiyAuth","components_CarouselStrap","components_SdkPlayer","createBrowserHistory","basename","process","receiveToken","acessToken","access_token","match","history","push","App","Router","Route","path","exact","component","RedirectedPage","INITIAL_STATE","combineReducers","undefined","action","objectSpread","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.84520476.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../actions\";\n\nclass SpotifyAuth extends React.Component {\n  onLogin = () => {\n    this.props.loginUser();\n  };\n  renderButton() {\n    if (!this.props.signedIn) {\n      return (\n        <button\n          onClick={this.onLogin}\n          type=\"button\"\n          className=\"btn btn-success\"\n        >\n          Login with Spotify\n        </button>\n      );\n    }\n    return (\n      <button type=\"button\" className=\"btn btn-danger\">\n        Logout\n      </button>\n    );\n  }\n  render() {\n    return this.renderButton();\n  }\n}\n\nconst mapStateToProps = state => {\n  return { signedIn: state.auth.signedIn };\n};\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(SpotifyAuth);\n","// ActionsCreators\nimport { LOGIN_USER, RECEIVED_TOKEN, GET_ALBUMS } from \"./types\";\nimport axios from \"axios\";\n\nexport const loginUser = () => {\n  let loginUrl = new URL(\"https://accounts.spotify.com/authorize?\");\n\n  loginUrl.searchParams.append(\"client_id\", \"43c8bd59b2ec4dd0b807352b209b6636\");\n  loginUrl.searchParams.append(\"response_type\", \"token\");\n  loginUrl.searchParams.append(\n    \"redirect_uri\",\n    window.location.href.includes(\"localhost\")\n      ? \"http://localhost:3000/redirectedpage\"\n      : \"https://finnstolze.github.io/spotifyandreact/redirectedpage\"\n  );\n  loginUrl.searchParams.append(\n    \"scope\",\n    \"user-modify-playback-state streaming user-read-birthdate user-read-email user-read-private user-read-private user-library-read\"\n  );\n\n  window.location = loginUrl.href;\n\n  return { type: LOGIN_USER };\n};\n\nexport const receiveToken = acessToken => {\n  return { type: RECEIVED_TOKEN, payload: acessToken };\n};\n\nexport const getAlbums = token => async dispatch => {\n  const spotify = axios.create({\n    baseURL: \"https://api.spotify.com/v1\",\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n\n  const response = await spotify.get(\"me/albums\");\n\n  dispatch({\n    type: GET_ALBUMS,\n    payload: response.data.items\n  });\n};\n\nexport const playTrack = (token, currentTrackUri) => async dispatch => {\n  const spotify = axios.create({\n    baseURL: \"https://api.spotify.com/v1/me/player\",\n    headers: {\n      authorization: `Bearer ${token}`\n    }\n  });\n\n  const response = await spotify.put(\"/play\");\n\n  dispatch({\n    type: \"PLAY_TRACK\",\n    payload: response.data\n  });\n};\n\nexport const pauseTrack = (token, currentTrackUri) => async dispatch => {\n  const spotify = axios.create({\n    baseURL: \"https://api.spotify.com/v1/me/player\",\n    headers: {\n      authorization: `Bearer ${token}`\n    }\n  });\n\n  const response = await spotify.put(\"/pause\");\n\n  dispatch({\n    type: \"PLAY_TRACK\",\n    payload: response.data\n  });\n};\n\nexport const activateDevice = (token, currentTrackUri) => async dispatch => {\n  const response = await axios({\n    method: \"put\",\n    url: \" \thttps://api.spotify.com/v1/me/player\",\n    headers: {\n      authorization: `Bearer ${token}`\n    },\n    data: {\n      device_ids: [\"8823f9501fd02a23671d4b6e3260d078e835ccde\"],\n      play: false\n    }\n  });\n\n  dispatch({\n    type: \"PLAY_TRACK\",\n    payload: response.data\n  });\n};\n","export const LOGIN_USER = \"LOGIN_USER\";\nexport const RECEIVED_TOKEN = \"RECEIVED_TOKEN\";\nexport const GET_ALBUMS = \"GET_ALBUMS\";\n","import React, { Component } from \"react\";\nimport { getAlbums } from \"../actions\";\nimport { connect } from \"react-redux\";\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators\n} from \"reactstrap\";\n\nclass CarouselStrap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { activeIndex: 0 };\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.goToIndex = this.goToIndex.bind(this);\n    this.onExiting = this.onExiting.bind(this);\n    this.onExited = this.onExited.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.isSignedIn) {\n      this.props.getAlbums(this.props.token);\n    }\n  }\n\n  onExiting() {\n    this.animating = true;\n  }\n\n  onExited() {\n    this.animating = false;\n  }\n\n  next() {\n    if (this.animating) return;\n    const nextIndex =\n      this.state.activeIndex === this.props.items.length - 1\n        ? 0\n        : this.state.activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  previous() {\n    if (this.animating) return;\n    const nextIndex =\n      this.state.activeIndex === 0\n        ? this.props.items.length - 1\n        : this.state.activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  goToIndex(newIndex) {\n    if (this.animating) return;\n    this.setState({ activeIndex: newIndex });\n  }\n\n  render() {\n    const { activeIndex } = this.state;\n\n    const slides = this.props.items.map(item => {\n      return (\n        <CarouselItem\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n          key={item.src}\n        >\n          <div\n            className=\"d-flex  flex-row justify-content-center\"\n            style={{ height: \"300px\" }}\n          >\n            <img className=\"h-100\" src={item.src} alt={item.altText} />\n\n            <div />\n            <ul\n              style={{ overflowY: \"scroll\" }}\n              className=\"list-group list-group-flush\"\n            >\n              {item.tracks.map((track, idx) => (\n                <li key={idx} className=\"list-group-item\">\n                  {track.name}\n                </li>\n              ))}\n            </ul>\n\n            <div />\n          </div>\n        </CarouselItem>\n      );\n    });\n\n    return (\n      <Carousel\n        className=\"container\"\n        activeIndex={activeIndex}\n        next={this.next}\n        previous={this.previous}\n      >\n        <CarouselIndicators\n          items={this.props.items}\n          activeIndex={activeIndex}\n          onClickHandler={this.goToIndex}\n        />\n        {slides}\n        <CarouselControl\n          direction=\"prev\"\n          directionText=\"Previous\"\n          onClickHandler={this.previous}\n        />\n        <CarouselControl\n          direction=\"next\"\n          directionText=\"Next\"\n          onClickHandler={this.next}\n        />\n      </Carousel>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log(state);\n  const albums = state.albums.map(album => {\n    return {\n      src: album.album.images[1].url,\n      altText: \"AlbumCover\",\n      caption: album.album.artists[0].name,\n      tracks: album.album.tracks.items\n    };\n  });\n  return {\n    token: state.auth.token,\n    isSignedIn: state.auth.signedIn,\n    items: albums\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { getAlbums }\n)(CarouselStrap);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { playTrack, activateDevice, pauseTrack } from \"../actions\";\n\nclass SdkPlayer extends React.Component {\n  componentDidMount() {\n    const token = this.props.auth.token;\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      this.player = new window.Spotify.Player({\n        name: \"Finns Player\",\n        getOAuthToken: cb => {\n          cb(token);\n        }\n      });\n      // Error handling\n      // Error handling\n      this.player.addListener(\"initialization_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"authentication_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"account_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"playback_error\", ({ message }) => {\n        console.error(message);\n      });\n\n      // Playback status updates\n      this.player.addListener(\"player_state_changed\", state => {\n        console.log(state);\n      });\n\n      // Ready\n      this.player.addListener(\"ready\", ({ device_id }) => {\n        console.log(\"Ready with Device ID\", device_id);\n      });\n\n      // Not Ready\n      this.player.addListener(\"not_ready\", ({ device_id }) => {\n        console.log(\"Device ID has gone offline\", device_id);\n      });\n\n      // Connect to the player!\n      this.player.connect().then(success => {\n        if (success) {\n          console.log(\n            \"The Web Playback SDK successfully connected to Spotify!\"\n          );\n        }\n      });\n    };\n  }\n\n  onPlay = () => {\n    this.props.playTrack(this.props.auth.token, this.props.uri);\n  };\n  onPause = () => {\n    this.props.pauseTrack(this.props.auth.token, this.props.uri);\n  };\n  onActivate = () => {\n    this.props.activateDevice(this.props.auth.token, this.props.uri);\n  };\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.onActivate}> Activate </button>\n        <button onClick={this.onPlay}> Play </button>\n        <button onClick={this.onPause}> Pause </button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth, uri: \"spotify:track:2J3XzDLjbXkny8qhr33zTh\" };\n};\n\nexport default connect(\n  mapStateToProps,\n  { playTrack, activateDevice, pauseTrack }\n)(SdkPlayer);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SpotifyAuth from \"../SpotfiyAuth\";\nimport CarouselStrap from \"../CarouselStrap\";\nimport { connect } from \"react-redux\";\nimport SdkPlayer from \"../SdkPlayer\";\n\nclass Home extends React.Component {\n  render() {\n    return (\n      <div className=\"bg-light text-dark\">\n        <nav className=\"navbar navbar-white bg-dark\">\n          <Link to={\"/spotifyandreact\"} className=\"navbar-brand text-white\">\n            home\n          </Link>\n          <SpotifyAuth />\n        </nav>\n        {this.props.isSignedIn ? (\n          <div>\n            <CarouselStrap /> <br />\n            <SdkPlayer />\n          </div>\n        ) : (\n          <div> </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.signedIn };\n};\nexport default connect(\n  mapStateToProps,\n  {}\n)(Home);\n","import createBrowserHistory from \"history/createBrowserHistory\";\n\nexport default createBrowserHistory({ basename: process.env.PUBLIC_URL });\n","import React from \"react\";\nimport { receiveToken } from \"../actions\";\nimport { connect } from \"react-redux\";\nimport history from \"../history\";\n\nconst RedirectedPage = props => {\n  const url = window.location.href;\n  if (url.includes(\"access_token\")) {\n    const access_token = url.match(/#(?:access_token)=([\\S\\s]*?)&/)[1];\n    props.receiveToken(access_token);\n\n    return <div>Redirecting...</div>;\n  }\n  history.push(\"/\");\n  return <div>Redirecting...</div>;\n};\n\nexport default connect(\n  null,\n  { receiveToken }\n)(RedirectedPage);\n","import React from \"react\";\nimport { Router, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport RedirectedPage from \"./RedirectedPage\";\nimport history from \"../history\";\n\nconst App = () => {\n  console.log(history);\n  return (\n    <Router history={history}>\n      <div>\n        <Route path={\"/spotifyandreact\"} exact component={Home} />\n        <Route\n          path={\"/spotifyandreact/redirectedpage\"}\n          component={RedirectedPage}\n        />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import { RECEIVED_TOKEN } from \"../actions/types\";\nimport history from \"../history\";\n\nconst INITIAL_STATE = {\n  token: null,\n  signedIn: null\n};\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case RECEIVED_TOKEN:\n      history.push(\"/\");\n      return { ...state, token: action.payload, signedIn: true };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport receiveToken from \"./receiveToken\";\nimport albumReducer from \"./albumReducer\";\n\nexport default combineReducers({ auth: receiveToken, albums: albumReducer });\n","import { GET_ALBUMS } from \"../actions/types\";\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case GET_ALBUMS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n    // other store enhancers if any\n  )\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}