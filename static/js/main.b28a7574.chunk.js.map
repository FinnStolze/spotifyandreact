{"version":3,"sources":["apis/spotify.js","actions/index.js","actions/types.js","components/SpotfiyAuth.js","components/Carousel/TrackListItem.js","components/Carousel/TrackList.js","components/Carousel/Cover.js","components/Player/PlayerControl.js","components/Carousel/CarouselStrap.js","components/SdkPlayer.js","components/pages/Home.js","components/App.js","reducers/receiveToken.js","reducers/indexReducer.js","reducers/index.js","reducers/albumReducer.js","index.js"],"names":["spotify","token","axios","create","baseURL","headers","Authorization","concat","changeIndex","albumIndex","type","payload","trackIndex","arguments","length","undefined","playTrack","currentTracks","position","device_id","_ref4","Object","asyncToGenerator","regenerator_default","a","mark","_callee4","dispatch","currentTrackUri","url","data","wrap","_context4","prev","next","uri","uris","offset","put","stop","this","_x4","apply","pauseTrack","_ref5","_callee5","_context5","_x5","SpotifyAuth","onLogin","_this","props","loginUser","signedIn","react_default","createElement","className","onClick","renderButton","React","Component","connect","state","auth","loginUrl","URL","searchParams","append","window","location","href","TrackListItem","_ref","track","onSelectTrack","textColor","style","cursor","name","TrackList","_this2","tracks","map","Carousel_TrackListItem","key","index","Cover","coverSource","coverAltText","src","alt","PlayerControl","onPlay","activeAlbum","onPause","onNext","nextTrack","onPrev","prevTrack","prevProps","albums","album","items","TrackIndex","_ref2","_callee2","nextTrackIndex","_context2","_x2","_ref3","_callee3","_context3","_x3","CarouselStrap","activeIndex","onExiting","animating","onExited","nextIndex","setState","previous","goToIndex","newIndex","isSignedIn","getAlbums","slides","CarouselItem","Carousel_Cover","altText","info","artists","Player_PlayerControl","height","overflowY","Carousel_TrackList","Carousel","interval","CarouselControl","fill","direction","directionText","onClickHandler","ownProps","images","caption","_callee","response","_context","get","sent","_x","SdkPlayer","getDeviceIds","onSpotifyWebPlaybackSDKReady","player","Spotify","Player","getOAuthToken","cb","addListener","message","console","error","log","_ref6","then","success","Home","includes","access_token","match","receiveToken","SpotfiyAuth","Carousel_CarouselStrap","components_SdkPlayer","acessToken","App","pages_Home","INITIAL_STATE","combineReducers","action","objectSpread","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","components_App","document","querySelector"],"mappings":"2SAGeA,EAAA,SAAAC,GACb,OAAOC,IAAMC,OAAO,CAClBC,QAAS,6BACTC,QAAS,CACPC,cAAa,UAAAC,OAAYN,OCyClBO,EAAc,SAACC,GAC1B,MAAO,CACLC,KCzCwB,eD0CxBC,QAAS,CAAEF,aAAYG,WAHgCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KA+CxCG,EAAY,SACvBf,EACAgB,EACAC,EACAC,GAJuB,sBAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAKpB,SAAAC,EAAMC,GAAN,IAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACGN,EAAkBX,EAAcC,GAAUiB,IAE1CN,EAHH,6BAAAtB,OAGsCY,GACnCW,EAAO,CAAEM,KAAM,CAACR,GAAkBS,OAAQ,CAAEnB,SAAU,IAJzDc,EAAAE,KAAA,EAKGlC,EAAQC,GAAOqC,IAAIT,EAAKC,GAL3B,OAOHH,EAAS,CACPjB,KCzGsB,eDiGrB,wBAAAsB,EAAAO,SAAAb,EAAAc,SALoB,gBAAAC,GAAA,OAAArB,EAAAsB,MAAAF,KAAA3B,YAAA,IAiBZ8B,EAAa,SAAC1C,EAAO2B,GAAR,sBAAAgB,EAAAvB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAA4B,SAAAoB,EAAMlB,GAAN,OAAAJ,EAAAC,EAAAO,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,aACxC,kBADwCY,EAAAZ,KAAA,EAE9ClC,EAAQC,GAAOqC,IADT,mBADwC,OAIpDX,EAAS,CACPjB,KC/GuB,gBD0G2B,wBAAAoC,EAAAP,SAAAM,EAAAL,SAA5B,gBAAAO,GAAA,OAAAH,EAAAF,MAAAF,KAAA3B,YAAA,IE5GpBmC,6MACJC,QAAU,WACRC,EAAKC,MAAMC,2FAGX,OAAKZ,KAAKW,MAAME,SAYdC,EAAA9B,EAAA+B,cAAA,UAAQ7C,KAAK,SAAS8C,UAAU,kBAAhC,UAVEF,EAAA9B,EAAA+B,cAAA,UACEE,QAASjB,KAAKS,QACdvC,KAAK,SACL8C,UAAU,mBAHZ,uDAgBJ,OAAOhB,KAAKkB,sBAvBUC,IAAMC,WA+BjBC,cAJS,SAAAC,GACtB,MAAO,CAAET,SAAUS,EAAMC,KAAKV,WAK9B,CAAED,UFvBqB,WACvB,IAAIY,EAAW,IAAIC,IAAI,2CAiBvB,OAfAD,EAASE,aAAaC,OAAO,YAAa,oCAC1CH,EAASE,aAAaC,OAAO,gBAAiB,SAC9CH,EAASE,aAAaC,OACpB,eAEI,+CAGNH,EAASE,aAAaC,OACpB,QACA,iEAGFC,OAAOC,SAAWL,EAASM,KAEpB,CAAE5D,KChCe,gBCmCXmD,CAGbb,2BCxBauB,EAZO,SAAAC,GAAqD,IAAlDC,EAAkDD,EAAlDC,MAAO7D,EAA2C4D,EAA3C5D,WAAY8D,EAA+BF,EAA/BE,cAAeC,EAAgBH,EAAhBG,UACzD,OACErB,EAAA9B,EAAA+B,cAAA,MACEE,QAAS,kBAAMiB,EAAc9D,IAC7B4C,UAAS,2BAAAjD,OAA6BoE,GACtCC,MAAO,CAAEC,OAAQ,YAEhBJ,EAAMK,OCJPC,6MACJL,cAAgB,SAAA9D,GACdsC,EAAKC,MAAM3C,YAAY0C,EAAKC,MAAM1C,WAAYG,4EAGvC,IAAAoE,EAAAxC,KACP,OACEc,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,+BACXhB,KAAKW,MAAM8B,OAAOC,IAAI,SAACT,EAAO7D,GAC7B,OACE0C,EAAA9B,EAAA+B,cAAC4B,EAAD,CACET,cAAeM,EAAKN,cACpB9D,WAAYA,EACZ6D,MAAOA,EACPW,IAAKX,EAAMtC,IACXwC,UACE/D,IAAeoE,EAAK7B,MAAMvC,WACtB,aACA,yBAlBI+C,IAAMC,WAoCfC,cARS,SAAAC,GACtB,MAAO,CACL7D,MAAO6D,EAAMC,KAAK9D,MAClBQ,WAAYqD,EAAMuB,MAAM5E,WACxBG,WAAYkD,EAAMuB,MAAMzE,aAM1B,CAAEJ,eAFWqD,CAGbkB,GCtCaO,EAJD,SAAAd,GAAmC,IAAhCe,EAAgCf,EAAhCe,YAAaC,EAAmBhB,EAAnBgB,aAC5B,OAAOlC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,MAAMiC,IAAKF,EAAaG,IAAKF,KCC/CG,6MACJC,OAAS,WACP1C,EAAKC,MAAMnC,UACTkC,EAAKC,MAAMlD,MACXiD,EAAKC,MAAM0C,YACX3C,EAAKC,MAAMkC,MAAMzE,WACjBsC,EAAKC,MAAMhC,cAGf2E,QAAU,WACR5C,EAAKC,MAAMR,WAAWO,EAAKC,MAAMlD,UAEnC8F,OAAS,WACP7C,EAAKC,MAAM6C,UACT9C,EAAKC,MAAMkC,MAAMzE,WACjBsC,EAAKC,MAAM0C,YACX3C,EAAKC,MAAMlD,MACXiD,EAAKC,MAAMhC,cAGf8E,OAAS,WACP/C,EAAKC,MAAM+C,UACThD,EAAKC,MAAMkC,MAAMzE,WACjBsC,EAAKC,MAAM0C,YACX3C,EAAKC,MAAMlD,MACXiD,EAAKC,MAAMhC,8FAIIgF,GAEfA,EAAUd,MAAM5E,aAAe+B,KAAKW,MAAMkC,MAAM5E,YAChD0F,EAAUd,MAAMzE,aAAe4B,KAAKW,MAAMkC,MAAM5E,YAEhD+B,KAAKW,MAAMnC,UACTwB,KAAKW,MAAMlD,MACXuC,KAAKW,MAAM0C,YACXrD,KAAKW,MAAMkC,MAAMzE,WACjB4B,KAAKW,MAAMhC,4CAMf,OACEmC,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,2BAAmBf,KAAKW,MAAMkC,MAAM5E,YACpC6C,EAAA9B,EAAA+B,cAAA,2BAAmBf,KAAKW,MAAMkC,MAAMzE,YAEpC0C,EAAA9B,EAAA+B,cAAA,UAAQE,QAASjB,KAAKoD,OAAQpC,UAAU,uBAAxC,QAGAF,EAAA9B,EAAA+B,cAAA,UAAQE,QAASjB,KAAKsD,QAAStC,UAAU,sBAAzC,MAGAF,EAAA9B,EAAA+B,cAAA,UAAQE,QAASjB,KAAKyD,OAAQzC,UAAU,oBAAxC,QAGAF,EAAA9B,EAAA+B,cAAA,UAAQE,QAASjB,KAAKuD,OAAQvC,UAAU,oBAAxC,gBA1DoBG,IAAMC,WA4EnBC,cAVS,SAAAC,GACtB,IAAM+B,EAAc/B,EAAMsC,OAAOtC,EAAMuB,MAAM5E,YAAY4F,MAAMpB,OAAOqB,MACtE,MAAO,CACLrG,MAAO6D,EAAMC,KAAK9D,MAClB4F,YAAaA,EACbR,MAAOvB,EAAMuB,MACblE,UAAW2C,EAAMC,KAAK5C,YAMxB,CAAEH,YAAW2B,aAAYqD,UN3BF,SACvBO,EACAV,EACA5F,EACAkB,GAJuB,sBAAAqF,EAAAnF,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAKpB,SAAAgF,EAAM9E,GAAN,IAAA+E,EAAA9E,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAA4E,GAAA,cAAAA,EAAA1E,KAAA0E,EAAAzE,MAAA,cACGwE,EACJH,IAAeV,EAAY/E,OAAS,EAAI,EAAIyF,EAAa,EACrD3E,EAAkBiE,EAAYU,GAAYpE,IAE1CN,EALH,6BAAAtB,OAKsCY,GACnCW,EAAO,CAAEM,KAAM,CAACR,GAAkBS,OAAQ,CAAEnB,SAAU,IANzDyF,EAAAzE,KAAA,EAOGlC,EAAQC,GAAOqC,IAAIT,EAAKC,GAP3B,OAQHH,EAAS,CACPjB,KCjEsB,aDkEtBC,QAAS+F,IAVR,wBAAAC,EAAApE,SAAAkE,EAAAjE,SALoB,gBAAAoE,GAAA,OAAAJ,EAAA9D,MAAAF,KAAA3B,YAAA,IM2BaqF,UNRb,SACvBK,EACAV,EACA5F,EACAkB,GAJuB,sBAAA0F,EAAAxF,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAKpB,SAAAqF,EAAMnF,GAAN,IAAA+E,EAAA9E,EAAAC,EAAAC,EAAA,OAAAP,EAAAC,EAAAO,KAAA,SAAAgF,GAAA,cAAAA,EAAA9E,KAAA8E,EAAA7E,MAAA,cACGwE,EACW,IAAfH,EAAmBV,EAAY/E,OAAS,EAAIyF,EAAa,EAErD3E,EAAkBiE,EAAYU,GAAYpE,IAE1CN,EANH,6BAAAtB,OAMsCY,GACnCW,EAAO,CAAEM,KAAM,CAACR,GAAkBS,OAAQ,CAAEnB,SAAU,IAPzD6F,EAAA7E,KAAA,EAQGlC,EAAQC,GAAOqC,IAAIT,EAAKC,GAR3B,OAUHH,EAAS,CACPjB,KCrFsB,aDsFtBC,QAAS+F,IAZR,wBAAAK,EAAAxE,SAAAuE,EAAAtE,SALoB,gBAAAwE,GAAA,OAAAH,EAAAnE,MAAAF,KAAA3B,YAAA,KMMVgD,CAGb8B,GC1EIsB,oNACJnD,MAAQ,CACNoD,YAAa,KASfC,UAAY,WACVjE,EAAKkE,WAAY,KAGnBC,SAAW,WACTnE,EAAKkE,WAAY,KAGnBlF,KAAO,WACL,IAAIgB,EAAKkE,UAAT,CACA,IAAME,EACJpE,EAAKY,MAAMoD,cAAgBhE,EAAKC,MAAMiD,OAAOtF,OAAS,EAClD,EACAoC,EAAKY,MAAMoD,YAAc,EAC/BhE,EAAKqE,SAAS,CAAEL,YAAaI,IAC7BpE,EAAKC,MAAM3C,YAAY0C,EAAKY,MAAMoD,iBAGpCM,SAAW,WACT,IAAItE,EAAKkE,UAAT,CACA,IAAME,EACuB,IAA3BpE,EAAKY,MAAMoD,YACPhE,EAAKC,MAAMiD,OAAOtF,OAAS,EAC3BoC,EAAKY,MAAMoD,YAAc,EAC/BhE,EAAKqE,SAAS,CAAEL,YAAaI,IAC7BpE,EAAKC,MAAM3C,YAAY0C,EAAKY,MAAMoD,iBAGpCO,UAAY,SAAAC,GACNxE,EAAKkE,WACTlE,EAAKqE,SAAS,CAAEL,YAAaQ,wFAnCzBlF,KAAKW,MAAMwE,YACbnF,KAAKW,MAAMyE,UAAUpF,KAAKW,MAAMlD,wCAqC3B,IAAA+E,EAAAxC,KACC0E,EAAgB1E,KAAKsB,MAArBoD,YAEFW,EAASrF,KAAKW,MAAMiD,OAAOlB,IAAI,SAAAmB,GACnC,OACE/C,EAAA9B,EAAA+B,cAACuE,EAAA,EAAD,CACE1C,IAAKiB,EAAMZ,IACX0B,UAAWnC,EAAKmC,UAChBE,SAAUrC,EAAKqC,UAEf/D,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,8BACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,yBACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kCACbF,EAAA9B,EAAA+B,cAACwE,EAAD,CACEvE,UAAU,eACV+B,YAAac,EAAMZ,IACnBD,aAAca,EAAM2B,UAEtB1E,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,wBACbF,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cAAd,IAA6B6C,EAAM4B,KAAKnD,MACxCxB,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,iCACX6C,EAAM4B,KAAKC,QAAQ,GAAGpD,MAEzBxB,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,cACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,8BACbF,EAAA9B,EAAA+B,cAAC4E,EAAD,UAKR7E,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,YACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kCACbF,EAAA9B,EAAA+B,cAAA,OACEC,UAAU,YACVoB,MAAO,CAAEwD,OAAQ,IAAKC,UAAW,WAEjC/E,EAAA9B,EAAA+B,cAAC+E,EAAD,CAAWrD,OAAQoB,EAAMpB,gBASvC,OACE3B,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,iYAuBAD,EAAA9B,EAAA+B,cAACgF,EAAA,EAAD,CACE/E,UAAU,YACV0D,YAAaA,EACbhF,KAAMM,KAAKN,KACXsF,SAAUhF,KAAKgF,SACfgB,UAAU,GAETX,EACDvE,EAAA9B,EAAA+B,cAACkF,EAAA,EAAD,CACEC,KAAK,SACLC,UAAU,OACVC,cAAc,WACdC,eAAgBrG,KAAKgF,WAEvBlE,EAAA9B,EAAA+B,cAACkF,EAAA,EAAD,CACEE,UAAU,OACVC,cAAc,OACdC,eAAgBrG,KAAKN,gBAnIL0B,cA4JbC,cAjBS,SAACC,EAAOgF,GAC9B,IAAM1C,EAAStC,EAAMsC,OAAOlB,IAAI,SAAAmB,GAC9B,MAAO,CACLZ,IAAKY,EAAMA,MAAM0C,OAAO,GAAGlH,IAC3BmG,QAAS,aACTgB,QAAS3C,EAAMA,MAAM6B,QAAQ,GAAGpD,KAChCG,OAAQoB,EAAMA,MAAMpB,OAAOqB,MAC3B2B,KAAM5B,EAAMA,SAGhB,MAAO,CACLpG,MAAO6D,EAAMC,KAAK9D,MAClB0H,WAAY7D,EAAMC,KAAKV,SACvB+C,OAAQA,IAMV,CACEwB,UPjIqB,SAAA3H,GAAK,sBAAAuE,EAAAnD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAwH,EAAMtH,GAAN,IAAAuH,EAAA,OAAA3H,EAAAC,EAAAO,KAAA,SAAAoH,GAAA,cAAAA,EAAAlH,KAAAkH,EAAAjH,MAAA,cAAAiH,EAAAjH,KAAA,EACTlC,EAAQC,GAAOmJ,IAAI,aADV,OAC1BF,EAD0BC,EAAAE,KAGhC1H,EAAS,CACPjB,KCzCsB,aD0CtBC,QAASuI,EAASpH,KAAKwE,QALO,wBAAA6C,EAAA5G,SAAA0G,EAAAzG,SAAJ,gBAAA8G,GAAA,OAAA9E,EAAA9B,MAAAF,KAAA3B,YAAA,IOkI1BG,YACA2B,aACAnC,eANWqD,CAQboD,GCzKIsC,8LACgB,IAAArG,EAAAV,KACZvC,EAAQuC,KAAKW,MAAMY,KAAK9D,MAC9BuC,KAAKW,MAAMqG,aAAahH,KAAKW,MAAMY,KAAK9D,OACxCmE,OAAOqF,6BAA+B,WACpCvG,EAAKwG,OAAS,IAAItF,OAAOuF,QAAQC,OAAO,CACtC9E,KAAM,iBACN+E,cAAe,SAAAC,GACbA,EAAG7J,MAKPiD,EAAKwG,OAAOK,YAAY,uBAAwB,SAAAvF,GAAiB,IAAdwF,EAAcxF,EAAdwF,QACjDC,QAAQC,MAAMF,KAEhB9G,EAAKwG,OAAOK,YAAY,uBAAwB,SAAAvD,GAAiB,IAAdwD,EAAcxD,EAAdwD,QACjDC,QAAQC,MAAMF,KAEhB9G,EAAKwG,OAAOK,YAAY,gBAAiB,SAAAlD,GAAiB,IAAdmD,EAAcnD,EAAdmD,QAC1CC,QAAQC,MAAMF,KAEhB9G,EAAKwG,OAAOK,YAAY,iBAAkB,SAAA3I,GAAiB,IAAd4I,EAAc5I,EAAd4I,QAC3CC,QAAQC,MAAMF,KAIhB9G,EAAKwG,OAAOK,YAAY,uBAAwB,SAAAjG,GAC9CmG,QAAQE,IAAIrG,KAIdZ,EAAKwG,OAAOK,YAAY,QAAS,SAAAnH,GAAmB,IAAhBzB,EAAgByB,EAAhBzB,UAClC8I,QAAQE,IAAI,uBAAwBhJ,GACpC+B,EAAKC,MAAMqG,aAAarI,KAI1B+B,EAAKwG,OAAOK,YAAY,YAAa,SAAAK,GAAmB,IAAhBjJ,EAAgBiJ,EAAhBjJ,UACtC8I,QAAQE,IAAI,6BAA8BhJ,KAI5C+B,EAAKwG,OAAO7F,UAAUwG,KAAK,SAAAC,GACrBA,GACFL,QAAQE,IACN,+FAQR,OAAO,YAtDaxG,IAAMC,WA8DfC,cAJS,SAAAC,GACtB,MAAO,CAAEC,KAAMD,EAAMC,OAKrB,CAAEyF,aRqDwB,SAAArI,GAC1B,MAAO,CACLT,KCpH0B,iBDqH1BC,QAASQ,KQ1DE0C,CAGb0F,GC9DIgB,8LAEF,IAAM1I,EAAMuC,OAAOC,SAASC,KAC5B,GAAIzC,EAAI2I,SAAS,KAAM,CACrB,IAAMC,EAAe5I,EAAI6I,MAAM,iCAAiC,GAChElI,KAAKW,MAAMwH,aAAaF,qCAI1B,OACEnH,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,sBACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,iDACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,2BAAf,iBACAF,EAAA9B,EAAA+B,cAACqH,EAAD,OAEDpI,KAAKW,MAAMwE,WACVrE,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,mCACfF,EAAA9B,EAAA+B,cAACsH,EAAD,MAFF,IAEoBvH,EAAA9B,EAAA+B,cAAA,WAClBD,EAAA9B,EAAA+B,cAACuH,EAAD,MACAxH,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,6EAAlB,2BAKFF,EAAA9B,EAAA+B,cAAA,wBAzBSI,IAAMC,WAmCVC,cAHS,SAAAC,GACtB,MAAO,CAAE6D,WAAY7D,EAAMC,KAAKV,WAIhC,CAAEsH,aTTwB,SAAAI,GAC1B,MAAO,CAAErK,KCnCmB,iBDmCGC,QAASoK,KSM3BlH,CAGb0G,GClCaS,EARH,WACV,OACE1H,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAC0H,EAAD,gBCJAC,EAAgB,CACpBjL,MAAO,KACPoD,SAAU,KACVlC,UAAW,ICHP+J,EAAgB,CACpBtK,WAAY,EACZH,WAAY,GCCC0K,4BAAgB,CAC7BpH,KFCa,WAAmC,IAAlCD,EAAkCjD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1BqK,EAAeE,EAAWvK,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQqK,EAAO1K,MACb,IVR0B,iBUSxB,OAAOW,OAAAgK,EAAA,EAAAhK,CAAA,GAAKyC,EAAZ,CAAmB7D,MAAOmL,EAAOzK,QAAS0C,UAAU,IACtD,IVJ0B,iBUKxB,OAAOhC,OAAAgK,EAAA,EAAAhK,CAAA,GAAKyC,EAAZ,CAAmB3C,UAAWiK,EAAOzK,UAEvC,QACE,OAAOmD,IERXsC,OCLa,WAAwB,IAAvBtC,EAAuBjD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIuK,EAAWvK,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrC,OAAQqK,EAAO1K,MACb,IbFsB,aaGpB,OAAO0K,EAAOzK,QAChB,QACE,OAAOmD,IDCXuB,MDDa,WAAmC,IAAlCvB,EAAkCjD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1BqK,EAAeE,EAAWvK,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD,OAAQqK,EAAO1K,MACb,IXAwB,eWCtB,OAAO0K,EAAOzK,QAChB,IXPsB,aWStB,IXRsB,aWSpB,OAAOU,OAAAgK,EAAA,EAAAhK,CAAA,GAAKyC,EAAZ,CAAmBlD,WAAYwK,EAAOzK,UACxC,QACE,OAAOmD,MGNPwH,SAAQC,sBACZC,EACAC,8BACEC,0BAAgBC,QAKpBC,IAASC,OACPvI,EAAA9B,EAAA+B,cAACuI,EAAA,EAAD,CAAUR,MAAOA,GACfhI,EAAA9B,EAAA+B,cAACwI,EAAD,OAEFC,SAASC,cAAc","file":"static/js/main.b28a7574.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// restful request to server\nexport default token => {\n  return axios.create({\n    baseURL: \"https://api.spotify.com/v1\",\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\n","// ActionsCreators\nimport {\n  LOGIN_USER,\n  RECEIVED_TOKEN,\n  GET_ALBUMS,\n  PLAY_TRACK,\n  PAUSE_TRACK,\n  GET_DEVICE_IDS,\n  NEXT_TRACK,\n  PREV_TRACK,\n  CHANGE_INDEX\n} from \"./types\";\nimport spotify from \"../apis/spotify\";\n\nexport const loginUser = () => {\n  let loginUrl = new URL(\"https://accounts.spotify.com/authorize?\");\n\n  loginUrl.searchParams.append(\"client_id\", \"43c8bd59b2ec4dd0b807352b209b6636\");\n  loginUrl.searchParams.append(\"response_type\", \"token\");\n  loginUrl.searchParams.append(\n    \"redirect_uri\",\n    process.env.PUBLIC_URL\n      ? \"http://finnstolze.github.io/spotifyandreact\"\n      : \"http://localhost:3000\"\n  );\n  loginUrl.searchParams.append(\n    \"scope\",\n    \"user-modify-playback-state streaming user-read-playback-state\"\n  );\n\n  window.location = loginUrl.href;\n\n  return { type: LOGIN_USER };\n};\n\nexport const receiveToken = acessToken => {\n  return { type: RECEIVED_TOKEN, payload: acessToken };\n};\n\nexport const getAlbums = token => async dispatch => {\n  const response = await spotify(token).get(\"me/albums\");\n\n  dispatch({\n    type: GET_ALBUMS,\n    payload: response.data.items\n  });\n};\n\nexport const changeIndex = (albumIndex, trackIndex = 0) => {\n  return {\n    type: CHANGE_INDEX,\n    payload: { albumIndex, trackIndex }\n  };\n};\n\nexport const nextTrack = (\n  TrackIndex,\n  activeAlbum,\n  token,\n  device_id\n) => async dispatch => {\n  const nextTrackIndex =\n    TrackIndex === activeAlbum.length - 1 ? 0 : TrackIndex + 1;\n  const currentTrackUri = activeAlbum[TrackIndex].uri;\n\n  const url = `me/player/play?&device_id=${device_id}`;\n  const data = { uris: [currentTrackUri], offset: { position: 0 } };\n  await spotify(token).put(url, data);\n  dispatch({\n    type: NEXT_TRACK,\n    payload: nextTrackIndex\n  });\n};\n\nexport const prevTrack = (\n  TrackIndex,\n  activeAlbum,\n  token,\n  device_id\n) => async dispatch => {\n  const nextTrackIndex =\n    TrackIndex === 0 ? activeAlbum.length - 1 : TrackIndex - 1;\n\n  const currentTrackUri = activeAlbum[TrackIndex].uri;\n\n  const url = `me/player/play?&device_id=${device_id}`;\n  const data = { uris: [currentTrackUri], offset: { position: 0 } };\n  await spotify(token).put(url, data);\n\n  dispatch({\n    type: PREV_TRACK,\n    payload: nextTrackIndex\n  });\n};\n\nexport const playTrack = (\n  token,\n  currentTracks,\n  position,\n  device_id\n) => async dispatch => {\n  const currentTrackUri = currentTracks[position].uri;\n\n  const url = `me/player/play?&device_id=${device_id}`;\n  const data = { uris: [currentTrackUri], offset: { position: 0 } };\n  await spotify(token).put(url, data);\n\n  dispatch({\n    type: PLAY_TRACK\n  });\n};\n\nexport const pauseTrack = (token, currentTrackUri) => async dispatch => {\n  const url = \"me/player/pause\";\n  await spotify(token).put(url);\n\n  dispatch({\n    type: PAUSE_TRACK\n  });\n};\n\nexport const getDeviceIds = device_id => {\n  return {\n    type: GET_DEVICE_IDS,\n    payload: device_id\n  };\n};\n","export const LOGIN_USER = \"LOGIN_USER\";\nexport const RECEIVED_TOKEN = \"RECEIVED_TOKEN\";\nexport const GET_ALBUMS = \"GET_ALBUMS\";\nexport const PLAY_TRACK = \"PLAY_TRACK\";\nexport const NEXT_TRACK = \"NEXT_TRACK\";\nexport const PREV_TRACK = \"PREV_TRACK\";\nexport const PAUSE_TRACK = \"PAUSE_TRACK\";\nexport const GET_DEVICE_IDS = \"GET_DEVICE_IDS\";\nexport const GET_CURRENT_TRACK = \"GET_CURRENT_TRACK\";\nexport const CHANGE_INDEX = \"CHANGE_INDEX\";\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../actions\";\n\nclass SpotifyAuth extends React.Component {\n  onLogin = () => {\n    this.props.loginUser();\n  };\n  renderButton() {\n    if (!this.props.signedIn) {\n      return (\n        <button\n          onClick={this.onLogin}\n          type=\"button\"\n          className=\"btn btn-success\"\n        >\n          Login with Spotify\n        </button>\n      );\n    }\n    return (\n      <button type=\"button\" className=\"btn btn-danger\">\n        Logout\n      </button>\n    );\n  }\n  render() {\n    return this.renderButton();\n  }\n}\n\nconst mapStateToProps = state => {\n  return { signedIn: state.auth.signedIn };\n};\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(SpotifyAuth);\n","import React from \"react\";\n\nconst TrackListItem = ({ track, trackIndex, onSelectTrack, textColor }) => {\n  return (\n    <li\n      onClick={() => onSelectTrack(trackIndex)}\n      className={`list-group-item bg-dark ${textColor}`}\n      style={{ cursor: \"pointer\" }}\n    >\n      {track.name}\n    </li>\n  );\n};\n\nexport default TrackListItem;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport TrackListItem from \"./TrackListItem\";\nimport { changeIndex } from \"../../actions\";\n\nclass TrackList extends React.Component {\n  onSelectTrack = trackIndex => {\n    this.props.changeIndex(this.props.albumIndex, trackIndex);\n  };\n\n  render() {\n    return (\n      <ul className=\"list-group list-group-flush\">\n        {this.props.tracks.map((track, trackIndex) => {\n          return (\n            <TrackListItem\n              onSelectTrack={this.onSelectTrack}\n              trackIndex={trackIndex}\n              track={track}\n              key={track.uri}\n              textColor={\n                trackIndex === this.props.trackIndex\n                  ? \"text-muted\"\n                  : \"text-light\"\n              }\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    albumIndex: state.index.albumIndex,\n    trackIndex: state.index.trackIndex\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { changeIndex }\n)(TrackList);\n","import React from \"react\";\n\nconst Cover = ({ coverSource, coverAltText }) => {\n  return <img className=\"p-1\" src={coverSource} alt={coverAltText} />;\n};\n\nexport default Cover;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { playTrack, pauseTrack, nextTrack, prevTrack } from \"../../actions\";\n\nclass PlayerControl extends React.Component {\n  onPlay = () => {\n    this.props.playTrack(\n      this.props.token,\n      this.props.activeAlbum,\n      this.props.index.trackIndex,\n      this.props.device_id\n    );\n  };\n  onPause = () => {\n    this.props.pauseTrack(this.props.token);\n  };\n  onNext = () => {\n    this.props.nextTrack(\n      this.props.index.trackIndex,\n      this.props.activeAlbum,\n      this.props.token,\n      this.props.device_id\n    );\n  };\n  onPrev = () => {\n    this.props.prevTrack(\n      this.props.index.trackIndex,\n      this.props.activeAlbum,\n      this.props.token,\n      this.props.device_id\n    );\n  };\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.index.albumIndex !== this.props.index.albumIndex ||\n      prevProps.index.trackIndex !== this.props.index.albumIndex\n    ) {\n      this.props.playTrack(\n        this.props.token,\n        this.props.activeAlbum,\n        this.props.index.trackIndex,\n        this.props.device_id\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div>Album Index: {this.props.index.albumIndex}</div>\n        <div>Track Index: {this.props.index.trackIndex}</div>\n\n        <button onClick={this.onPlay} className=\"btn btn-success m-2\">\n          Play\n        </button>\n        <button onClick={this.onPause} className=\"btn btn-danger m-2\">\n          ||\n        </button>\n        <button onClick={this.onPrev} className=\"btn btn-info m-2\">\n          prev\n        </button>\n        <button onClick={this.onNext} className=\"btn btn-info m-2\">\n          next\n        </button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const activeAlbum = state.albums[state.index.albumIndex].album.tracks.items;\n  return {\n    token: state.auth.token,\n    activeAlbum: activeAlbum,\n    index: state.index,\n    device_id: state.auth.device_id\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { playTrack, pauseTrack, nextTrack, prevTrack }\n)(PlayerControl);\n","import React, { Component } from \"react\";\nimport { getAlbums, playTrack, pauseTrack, changeIndex } from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { Carousel, CarouselItem, CarouselControl } from \"reactstrap\";\nimport TrackList from \"./TrackList\";\nimport Cover from \"./Cover\";\nimport PlayerControl from \"../Player/PlayerControl\";\nimport styles from \"./carousel.css\";\n\nclass CarouselStrap extends Component {\n  state = {\n    activeIndex: 0\n  };\n\n  componentDidMount() {\n    if (this.props.isSignedIn) {\n      this.props.getAlbums(this.props.token);\n    }\n  }\n\n  onExiting = () => {\n    this.animating = true;\n  };\n\n  onExited = () => {\n    this.animating = false;\n  };\n\n  next = () => {\n    if (this.animating) return;\n    const nextIndex =\n      this.state.activeIndex === this.props.albums.length - 1\n        ? 0\n        : this.state.activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n    this.props.changeIndex(this.state.activeIndex);\n  };\n\n  previous = () => {\n    if (this.animating) return;\n    const nextIndex =\n      this.state.activeIndex === 0\n        ? this.props.albums.length - 1\n        : this.state.activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n    this.props.changeIndex(this.state.activeIndex);\n  };\n\n  goToIndex = newIndex => {\n    if (this.animating) return;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  render() {\n    const { activeIndex } = this.state;\n\n    const slides = this.props.albums.map(album => {\n      return (\n        <CarouselItem\n          key={album.src}\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n        >\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-4 .offset-md-4\">\n              <div className=\"card bg-dark shadow-lg rounded\">\n                <Cover\n                  className=\"card-img-top\"\n                  coverSource={album.src}\n                  coverAltText={album.altText}\n                />\n                <div className=\"card-body text-light\">\n                  <h5 className=\"card-title\"> {album.info.name}</h5>\n                  <h6 className=\"card-subtitle mb-2 text-muted\">\n                    {album.info.artists[0].name}\n                  </h6>\n                  <p className=\"card-text\" />\n                  <div className=\"row justify-content-center\">\n                    <PlayerControl />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-4\">\n              <div className=\"card bg-dark shadow-lg rounded\">\n                <div\n                  className=\"card-body\"\n                  style={{ height: 500, overflowY: \"scroll\" }}\n                >\n                  <TrackList tracks={album.tracks} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </CarouselItem>\n      );\n    });\n\n    return (\n      <div>\n        <style>\n          {`.carousel-control-prev-icon,\n.carousel-control-next-icon {\n  height: 100px;\n  width: 100px;\n  outline: black;\n  background-size: 100%, 100%;\n  background-image: none;\n}\n\n.carousel-control-next-icon:after\n{\n  content: '>';\n  font-size: 55px;\n  color: black;\n}\n\n.carousel-control-prev-icon:after {\n  content: '<';\n  font-size: 55px;\n  color: black;\n}`}\n        </style>\n        <Carousel\n          className=\"container\"\n          activeIndex={activeIndex}\n          next={this.next}\n          previous={this.previous}\n          interval={false}\n        >\n          {slides}\n          <CarouselControl\n            fill=\"%23fff\"\n            direction=\"prev\"\n            directionText=\"Previous\"\n            onClickHandler={this.previous}\n          />\n          <CarouselControl\n            direction=\"next\"\n            directionText=\"Next\"\n            onClickHandler={this.next}\n          />\n        </Carousel>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const albums = state.albums.map(album => {\n    return {\n      src: album.album.images[1].url,\n      altText: \"AlbumCover\",\n      caption: album.album.artists[0].name,\n      tracks: album.album.tracks.items,\n      info: album.album\n    };\n  });\n  return {\n    token: state.auth.token,\n    isSignedIn: state.auth.signedIn,\n    albums: albums\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    getAlbums,\n    playTrack,\n    pauseTrack,\n    changeIndex\n  }\n)(CarouselStrap);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getDeviceIds } from \"../actions\";\n\nclass SdkPlayer extends React.Component {\n  componentDidMount() {\n    const token = this.props.auth.token;\n    this.props.getDeviceIds(this.props.auth.token);\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      this.player = new window.Spotify.Player({\n        name: \"Album Carousel\",\n        getOAuthToken: cb => {\n          cb(token);\n        }\n      });\n      // Error handling\n      // Error handling\n      this.player.addListener(\"initialization_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"authentication_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"account_error\", ({ message }) => {\n        console.error(message);\n      });\n      this.player.addListener(\"playback_error\", ({ message }) => {\n        console.error(message);\n      });\n\n      // Playback status updates\n      this.player.addListener(\"player_state_changed\", state => {\n        console.log(state);\n      });\n\n      // Ready\n      this.player.addListener(\"ready\", ({ device_id }) => {\n        console.log(\"Ready with Device ID\", device_id);\n        this.props.getDeviceIds(device_id);\n      });\n\n      // Not Ready\n      this.player.addListener(\"not_ready\", ({ device_id }) => {\n        console.log(\"Device ID has gone offline\", device_id);\n      });\n\n      // Connect to the player!\n      this.player.connect().then(success => {\n        if (success) {\n          console.log(\n            \"The Web Playback SDK successfully connected to Spotify!\"\n          );\n        }\n      });\n    };\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\n\nexport default connect(\n  mapStateToProps,\n  { getDeviceIds }\n)(SdkPlayer);\n","import React from \"react\";\nimport SpotifyAuth from \"../SpotfiyAuth\";\nimport CarouselStrap from \"../Carousel/CarouselStrap\";\nimport { connect } from \"react-redux\";\nimport SdkPlayer from \"../SdkPlayer\";\nimport { receiveToken } from \"../../actions\";\n\nclass Home extends React.Component {\n  componentDidMount() {\n    const url = window.location.href;\n    if (url.includes(\"#\")) {\n      const access_token = url.match(/#(?:access_token)=([\\S\\s]*?)&/)[1];\n      this.props.receiveToken(access_token);\n    }\n  }\n  render() {\n    return (\n      <div className=\"bg-light text-dark\">\n        <nav className=\"navbar navbar-white bg-dark shadow-lg rounded\">\n          <div className=\"navbar-brand text-white\">AlbumCarousel</div>\n          <SpotifyAuth />\n        </nav>\n        {this.props.isSignedIn ? (\n          <div>\n            <div className=\"row justify-content-center p-3\" />\n            <CarouselStrap /> <br />\n            <SdkPlayer />\n            <footer className=\"footer p-1 bg-dark shadow-lg rounded text-light text-right text-muted m-1\">\n              Created by Finn Stolze\n            </footer>\n          </div>\n        ) : (\n          <div> </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.signedIn };\n};\nexport default connect(\n  mapStateToProps,\n  { receiveToken }\n)(Home);\n","import React from \"react\";\nimport Home from \"../components/pages/Home\";\n\nconst App = () => {\n  return (\n    <div>\n      <Home />\n    </div>\n  );\n};\n\nexport default App;\n","import { RECEIVED_TOKEN, GET_DEVICE_IDS } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n  token: null,\n  signedIn: null,\n  device_id: \"\"\n};\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case RECEIVED_TOKEN:\n      return { ...state, token: action.payload, signedIn: true };\n    case GET_DEVICE_IDS:\n      return { ...state, device_id: action.payload };\n\n    default:\n      return state;\n  }\n};\n","import { NEXT_TRACK, PREV_TRACK, CHANGE_INDEX } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n  trackIndex: 0,\n  albumIndex: 0\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CHANGE_INDEX:\n      return action.payload;\n    case NEXT_TRACK:\n      return { ...state, trackIndex: action.payload };\n    case PREV_TRACK:\n      return { ...state, trackIndex: action.payload };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport receiveToken from \"./receiveToken\";\nimport albumReducer from \"./albumReducer\";\nimport indexReducer from \"./indexReducer\";\n\nexport default combineReducers({\n  auth: receiveToken,\n  albums: albumReducer,\n  index: indexReducer\n});\n","import { GET_ALBUMS } from \"../actions/types\";\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case GET_ALBUMS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n    // other store enhancers if any\n  )\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}